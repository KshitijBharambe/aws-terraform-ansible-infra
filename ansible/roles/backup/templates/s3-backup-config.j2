# S3 Backup Configuration
# Generated by Ansible for {{ ansible_hostname }}
# Environment: {{ ansible_environment }}
# Generated: {{ ansible_date_time }}

# AWS Configuration
AWS_REGION="{{ backup_s3_region | default('us-east-1') }}"
AWS_ACCESS_KEY_ID="{{ backup_s3_access_key | default('') }}"
AWS_SECRET_ACCESS_KEY="{{ backup_s3_secret_key | default('') }}"

# S3 Configuration
S3_BUCKET="{{ backup_s3_bucket | default('') }}"
S3_PREFIX="{{ backup_s3_prefix | default('backups/') }}"
S3_ENDPOINT="{{ backup_s3_endpoint | default('') }}"
S3_STORAGE_CLASS="{{ backup_s3_storage_class | default('STANDARD') }}"
S3_SERVER_SIDE_ENCRYPTION="{{ backup_s3_sse | default('AES256') }}"

# S3 Lifecycle Configuration
S3_ENABLE_LIFECYCLE="{{ backup_s3_enable_lifecycle | default('true') }}"
S3_STANDARD_DAYS="{{ backup_s3_standard_days | default('30') }}"
S3_IA_DAYS="{{ backup_s3_ia_days | default('90') }}"
S3_GLACIER_DAYS="{{ backup_s3_glacier_days | default('365') }}"
S3_DELETE_DAYS="{{ backup_s3_delete_days | default('2555') }}"

# S3 Versioning Configuration
S3_ENABLE_VERSIONING="{{ backup_s3_enable_versioning | default('false') }}"
S3_MAX_VERSIONS="{{ backup_s3_max_versions | default('10') }}"

# S3 Multipart Upload Configuration
S3_MULTIPART_THRESHOLD="{{ backup_s3_multipart_threshold | default('64MB') }}"
S3_MULTIPART_CHUNKSIZE="{{ backup_s3_multipart_chunksize | default('16MB') }}"

# S3 Notification Configuration
S3_ENABLE_NOTIFICATIONS="{{ backup_s3_enable_notifications | default('false') }}"
S3_NOTIFICATION_TOPIC="{{ backup_s3_notification_topic | default('') }}"
S3_NOTIFICATION_EVENTS="{{ backup_s3_notification_events | default(['s3:ObjectCreated:*']) }}"

# S3 Replication Configuration
S3_ENABLE_REPLICATION="{{ backup_s3_enable_replication | default('false') }}"
S3_REPLICATION_REGION="{{ backup_s3_replication_region | default('') }}"
S3_REPLICATION_BUCKET="{{ backup_s3_replication_bucket | default('') }}"

# S3 Cross-Account Configuration
S3_DESTINATION_ACCOUNT="{{ backup_s3_destination_account | default('') }}"
S3_DESTINATION_BUCKET="{{ backup_s3_destination_bucket | default('') }}"
S3_DESTINATION_PREFIX="{{ backup_s3_destination_prefix | default('replicas/') }}"

# S3 Access Control
S3_BUCKET_POLICY="{{ backup_s3_bucket_policy | default('private') }}"
S3_OBJECT_ACL="{{ backup_s3_object_acl | default('private') }}"
S3_GRANT_READ="{{ backup_s3_grant_read | default('') }}"
S3_GRANT_WRITE="{{ backup_s3_grant_write | default('') }}"

# S3 Logging Configuration
S3_ENABLE_LOGGING="{{ backup_s3_enable_logging | default('true') }}"
S3_LOG_BUCKET="{{ backup_s3_log_bucket | default('') }}"
S3_LOG_PREFIX="{{ backup_s3_log_prefix | default('access-logs/') }}"

# S3 Request Configuration
S3_REQUEST_TIMEOUT="{{ backup_s3_request_timeout | default('300') }}"
S3_MAX_RETRIES="{{ backup_s3_max_retries | default('3') }}"
S3_RETRY_DELAY="{{ backup_s3_retry_delay | default('5') }}"

# S3 Bandwidth Configuration
S3_BANDWIDTH_LIMIT="{{ backup_bandwidth_limit | default('10m') }}"
S3_CONCURRENT_UPLOADS="{{ backup_s3_concurrent_uploads | default('2') }}"

# S3 Compression Configuration
S3_COMPRESS_BEFORE_UPLOAD="{{ backup_s3_compress | default('true') }}"
S3_COMPRESSION_LEVEL="{{ backup_s3_compression_level | default('6') }}"
S3_COMPRESSION_FORMAT="{{ backup_s3_compression_format | default('gzip') }}"

# S3 Metadata Configuration
S3_DEFAULT_METADATA="{{ backup_s3_default_metadata | default({'backup-server': ansible_hostname, 'backup-date': ansible_date_time['date']}) }}"
S3_ADDITIONAL_METADATA="{{ backup_s3_additional_metadata | default({}) }}"

# S3 Checksum Configuration
S3_VERIFY_CHECKSUM="{{ backup_s3_verify_checksum | default('true') }}"
S3_CHECKSUM_ALGORITHM="{{ backup_s3_checksum_algorithm | default('sha256') }}"

# S3 Transfer Acceleration
S3_ENABLE_ACCELERATION="{{ backup_s3_enable_acceleration | default('false') }}"

# S3 Intelligent-Tiering
S3_ENABLE_INTELLIGENT_TIERING="{{ backup_s3_enable_intelligent_tiering | default('false') }}"

# S3 Archive Configuration
S3_ARCHIVE_AFTER_DAYS="{{ backup_s3_archive_after_days | default('90') }}"
S3_ARCHIVE_STORAGE_CLASS="{{ backup_s3_archive_storage_class | default('GLACIER') }}"

# S3 Restore Configuration
S3_RESTORE_TIER="{{ backup_s3_restore_tier | default('Expedited') }}"
S3_RESTORE_DAYS="{{ backup_s3_restore_days | default('30') }}"
